<pre style="">SDN，(Software-defined networking)，软件定义网络。
计算机的发展，可以说日新月异，层出不穷，一日千里，以各个不同的姿势渗透到生活的每个角落。大到天体计算，dna破解，手工云计算，挖矿，小到手机，电子书。

但是网络的发展相比之下如同银行业对比钢铁业相比一样，基本没啥改变，竞争都是土豪方式的简单又粗暴，相对集中在比拼硬件，专利。

计算机能够如此迅猛的发展，我们需要致敬经典--冯.诺依曼体系结构，规定了输入，输出，存储，控制，运算五个构件；程序和数据以二进制代码形式不加区别地存放在存储器中；控制器根据存放在存储器中地指令序列（程序）进行工作，并由一个程序计数器控制指令地执行。
这种极简的理念和正交的经典，让各个环节都得于迅猛发展。


SDN的意义也是解放黑盒般专用网络设备，令各个部件和业务挣脱束缚，天空才是极限。


<strong>现有常见的网络基础设备</strong></pre>
<ul style="">
<li>交换机（2,3,4层）</li><li>路由器(3层，设备的话基本被3层交换机替代了）</li><li>防火墙（4,7）</li><li>负载均衡（4,7）</li></ul>
<pre style="">看对应的功能有：交换机和路由器的数据交换（也就是传输），VLAN， IP隧道，QoS, ACL，过滤(防火墙，ACL也是过滤哈，不过比较简单的过滤）；F5的负载均衡。应用还是相当的少和弱，基本由硬件厂商把持。



<strong>现有的挑战</strong></pre>
<ul style="">
<li>带宽</li><li>结构庞大</li><li>应用复杂</li><li>管理复杂</li></ul>
<pre style="">带宽， 互联网公司最大的痛楚，06年入互联网的时候，就假设CPU是无限大，带宽是无限小，这点目前还是没改观。
结构庞大复杂, 机器多了，必须不断分组（vlan,子网），级联，管理也麻烦。
应用复杂，应用互通，不同重要级别、类型数据的流动，想区别对待，如果协议级别的还可以在路由上设置QoS，但是如果应用级别的基本无力了；还有现有流行的虚拟化主机，要求组网更加灵活，VLAN，组网，跨网VLAN等，现有网络设备远远达不到灵活响应业务的需求。
管理复杂，QoS, VLAN, ACL设置的复杂度，还有调优，都需要一台台登陆，其复杂和繁琐程度，出错的后果，即使你擅长各种手工云计算，后果仍然相当惨烈。各种调优等都很麻烦和敏感，所以CCNA的高级证书才那么&#20540;钱。

SDN能帮你解决后面3个问题，缓解第一一个问题。

<strong>SDN内容</strong></pre>
<pre style="">规定了架构,控制平面和转发平面分离，应用通过控制器控制设备规则；同规定了南北向接口，南边是底层，定义操作设备的接口下发流表；北边是应用，通过接口发出配置，控制，获取状态，统一管理资源。
</pre>
<div style="">控制器，网络操作系统，-拓扑和设备管理；-流表控制和下发<br clear="none">
</div>
<div style="">控制器北向接口（REST API)）面对SDN应用和元管理平台（网络资源统一管理，基于API的应用开发）<br clear="none">
</div>
<div style="">控制器南向接口(ONF提出的OpenFlow【流表下发】, OF-CONFIG【远程配置和管理】)面对网络设备（高性能数据转发-多级流表处理）</div>
<pre style="">这种松耦合的接口，可以进程分离，通过集中控制，通过接口来同时操作N个网元。硬件上也做了升级，流表引入TCAM(三态内容寻址寄存器）传统交换设备也用，主要用于ACL，支持通过bit的掩码支持don't care状态，可以同时支持模糊和精确查找。更加复杂和高容量的流表，2到4层的交换；功能上支持网络的虚拟化，逻辑网络可以跟物理分离，根据业务需要进行配置，不再受具体的设备物理位置限制，还有其他通过应用驱动控制器的去操作流表，达到各种应用。
</pre>
<pre style="">目前方案有：基于专用接口，叠加网络（在IP网络基础上叠加逻辑网络，屏蔽底层差异，实现网络资源的虚拟化），开放协议等。
</pre>
<pre style=""><strong>主要名词</strong>

OpenFlow, by ONF。只是SDN协议的一种，Openflow成为了SDN的代言词，包括GOOGLE等公司已经商用了。
</pre>
<pre style=""></pre>
<div style="">
<pre>NFV， by ETSI（国际主流运营商） 提倡, 网络功能虚拟化。它主要规划4~7层的应用。通过基于行业标准的x86服务器、存储和交换设备，来取代通信网的那些私有专用的网元设备。由此带来的好处是，一方面基于x86标 准的IT设备成本低廉，能够为运营商节省巨大的投资成本，另一方面开放的API接口，也能帮助运营商获得更多、更灵活的网络能力。
</pre>
<pre>它是和SDN同级别的，功能和使命有重叠，又是互相补充关系。
</pre>
</div>
<pre style="">
</pre>
<div style="">
<pre>OpenDaylight，厂商（cisco，juniper，big switch，redhat，vmware...）倡导的开源项目，整体SDN解决方案，包含一系列组件，支持多种协议包括了openflow
</pre>
</div>
<pre style=""></pre>
<pre style=""><strong>OpenFlow协议细节</strong></pre>
<pre style=""><img src="http://img.my.csdn.net/uploads/201401/11/1389412032_4639.jpg" alt="">
流表包括3个字段，头域，用于匹配的，支持到传输层；计数器，查询，匹配，收到包数和发送数，错误，溢出等，应用可以根据该字段做一些其他决策，比如流控或者重新规划路由，或仅仅查询；操作是头域匹配后的动作。
</pre>
<pre style=""></pre>
<pre style=""><img src="http://img.my.csdn.net/uploads/201401/11/1389412041_3323.png" alt="">
</pre>
<pre style="">另外，引入多级流表，流表分组等，通过组合的方式来避免单流表的组合爆炸式的增长。
&#160;</pre>
<pre style=""></pre>
<pre style=""><strong>商用例子</strong>
</pre>
<ul>
<li>
<pre style="">部分高校已经开始构件SDN的校园网。</pre>
</li><li>
<pre style="">&#160;Google通过几年的SDN搭建，其专用网络线路，30%的利用率达到现在的98%，提高利用率，更保证了核心业务的流畅质量。98%相对30%来说不等于传输数据量多了那么多，因为部分数据传输路线长了，所以体积大了。 
</pre>
</li><li>
<pre style="">集中化管理，网络规划简单，支持逻辑网络，设备简单。
</pre>
</li></ul>
</div>

            <div>
                作者：anghlq 发表于2014-1-11 11:47:58 <a href="http://blog.csdn.net/anghlq/article/details/18136033">原文链接</a>
            </div>
            <div>
            阅读：7 评论：0 <a href="http://blog.csdn.net/anghlq/article/details/18136033#comments" target="_blank">查看评论</a>
            </div>